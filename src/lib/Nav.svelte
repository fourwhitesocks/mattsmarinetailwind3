<script>
	// grab everything we need
	//const btn = document.querySelector('button.mobile-menu-button');
	//const menu = document.querySelector('.mobile-menu');

	// add event listeners
	//btn.addEventListener('click', () => {
	//menu.classList.toggle('hidden');
	//});

	import { fly } from 'svelte/transition';

	import AnimatedHamburger from '$lib/AnimatedHamburger.svelte';

	export let open = false;
	export let onClick = () => {
		open = !open;
	};
</script>

<!-- navbar goes here -->
<nav class="bg-gray-100 drop-shadow" id="scroll-to-here">
	<div class="max-w-6xl mx-auto px-4">
		<div class="flex justify-between">
			<div class="flex space-x-4">
				<!-- logo matts logo sat main groups op version-->
				<div class="flex">
					<a
						href="/"
						class="flex items-center py-5 px-2 text-blue-900 hover:text-blue-800 hover:no-underline"
					>
						<svg
							class="rotate-logo"
							width="75"
							height="75"
							viewBox="0 0 178 178"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<g id="mmservice-logo">
								<g id="service">
									<path
										id="Vector"
										d="M73.57 94.964H75.463C76.725 101.625 83.267 105.311 89.406 105.311C95.488 105.311 102.029 101.625 103.291 94.964H105.185C105.759 94.964 106.103 94.188 105.644 93.671L101.8 89.338C101.513 89.015 101.111 89.015 100.824 89.338L96.98 93.671C96.521 94.188 96.865 94.964 97.439 94.964H99.504C98.3 98.521 94.627 100.59 91.185 101.107V88.756H94.168C94.57 88.756 94.857 88.433 94.857 87.98V85.394C94.857 85.006 94.57 84.618 94.168 84.618H91.185V84.294C93.365 83.454 94.857 81.126 94.857 78.474C94.914 75.047 92.447 72.266 89.463 72.266C86.365 72.202 83.898 74.982 83.898 78.41C83.898 81.126 85.39 83.454 87.57 84.294V84.618H84.586C84.185 84.618 83.898 85.006 83.898 85.394V87.98C83.898 88.433 84.185 88.756 84.586 88.756H87.57V101.107C84.185 100.59 80.455 98.521 79.25 94.964H81.316C81.889 94.964 82.234 94.188 81.775 93.671L77.93 89.338C77.643 89.015 77.242 89.015 76.955 89.338L73.111 93.671C72.652 94.188 72.996 94.964 73.57 94.964V94.964ZM89.406 76.34C90.381 76.34 91.242 77.31 91.242 78.41C91.242 79.574 90.381 80.479 89.406 80.479C88.373 80.479 87.57 79.574 87.57 78.41C87.57 77.31 88.373 76.34 89.406 76.34ZM62.04 120.338C62.348 120.059 62.518 119.76 62.551 119.44C62.585 119.12 62.504 118.682 62.31 118.127C61.844 117.054 61.604 116.149 61.592 115.413C61.579 114.676 61.9 114.011 62.555 113.417C63.203 112.83 63.948 112.588 64.793 112.692C65.637 112.795 66.399 113.214 67.078 113.949C67.767 114.694 68.1 115.506 68.077 116.383C68.054 117.261 67.69 118.006 66.986 118.619L66.943 118.638L65.572 117.154C65.933 116.826 66.144 116.471 66.202 116.088C66.261 115.705 66.139 115.351 65.838 115.025C65.556 114.72 65.244 114.567 64.9 114.566C64.556 114.565 64.243 114.692 63.961 114.948C63.701 115.185 63.574 115.474 63.581 115.817C63.589 116.159 63.707 116.659 63.934 117.315C64.367 118.287 64.562 119.136 64.519 119.863C64.477 120.59 64.125 121.254 63.463 121.855C62.779 122.475 62.035 122.735 61.23 122.635C60.426 122.535 59.677 122.11 58.985 121.361C58.295 120.616 57.918 119.771 57.852 118.825C57.786 117.88 58.172 117.044 59.01 116.317L59.052 116.298L60.429 117.787C59.941 118.23 59.684 118.651 59.66 119.048C59.635 119.446 59.813 119.851 60.195 120.263C60.493 120.586 60.801 120.746 61.119 120.745C61.436 120.743 61.743 120.607 62.04 120.338V120.338ZM72.306 125.604L69.241 123.737L67.653 126.295L71.257 128.49L70.382 129.9L64.992 126.616L70.604 117.577L75.982 120.853L75.107 122.262L71.515 120.074L70.116 122.328L73.181 124.195L72.306 125.604V125.604ZM77.576 128.212L76.445 132.28L74.431 131.731L77.273 121.507L80.643 122.426C81.659 122.703 82.384 123.187 82.815 123.876C83.247 124.566 83.331 125.384 83.068 126.33C82.919 126.864 82.671 127.292 82.322 127.613C81.974 127.933 81.536 128.145 81.008 128.248C81.489 128.571 81.788 128.97 81.908 129.446C82.028 129.922 82.001 130.469 81.829 131.088L81.628 131.812C81.5464 132.116 81.4958 132.428 81.477 132.742C81.454 133.081 81.505 133.345 81.63 133.536L81.589 133.683L79.503 133.114C79.379 132.919 79.343 132.647 79.394 132.298C79.445 131.95 79.52 131.599 79.617 131.248L79.811 130.552C79.953 130.042 79.957 129.617 79.825 129.279C79.693 128.94 79.43 128.717 79.038 128.61L77.576 128.212V128.212ZM78.02 126.617L79.368 126.984C79.779 127.097 80.126 127.058 80.408 126.867C80.69 126.677 80.894 126.352 81.022 125.893C81.152 125.425 81.149 125.023 81.013 124.689C80.877 124.355 80.606 124.132 80.199 124.021L78.844 123.651L78.02 126.617V126.617ZM89.185 131.407L89.273 131.814L89.317 131.813L89.391 131.425L91.037 123.473L93.237 123.434L90.432 134.097L88.254 134.135L85.071 123.577L87.27 123.539L89.185 131.407V131.407ZM99.675 132.6L97.659 133.118L94.97 122.846L96.986 122.328L99.675 132.6V132.6ZM108.785 124.89L108.825 124.919C109.385 125.944 109.554 126.851 109.332 127.639C109.109 128.427 108.508 129.078 107.529 129.592C106.549 130.106 105.608 130.22 104.704 129.932C103.801 129.645 103.058 128.956 102.474 127.866L100.975 125.064C100.394 123.978 100.226 122.987 100.471 122.091C100.716 121.195 101.313 120.498 102.262 120C103.268 119.472 104.17 119.339 104.968 119.602C105.767 119.865 106.454 120.513 107.03 121.547L107.031 121.596L105.249 122.531C104.946 121.902 104.623 121.502 104.283 121.333C103.943 121.164 103.53 121.207 103.044 121.462C102.628 121.68 102.396 122.009 102.347 122.447C102.299 122.885 102.449 123.431 102.799 124.084L104.306 126.901C104.661 127.563 105.042 127.993 105.451 128.191C105.859 128.389 106.291 128.369 106.746 128.13C107.193 127.896 107.435 127.605 107.474 127.257C107.513 126.91 107.356 126.432 107.004 125.825L108.785 124.89V124.89ZM114.967 117.936L112.368 120.401L114.465 122.569L117.521 119.671L118.676 120.866L114.106 125.201L106.696 117.537L111.256 113.212L112.411 114.406L109.366 117.295L111.213 119.206L113.812 116.741L114.967 117.936V117.936Z"
										fill="#02006D"
									/>
								</g>
								<path
									id="skinny-circle"
									d="M88.718 115.43C103.783 115.43 115.995 103.166 115.995 88.038C115.995 72.9098 103.783 60.646 88.718 60.646C73.6533 60.646 61.441 72.9098 61.441 88.038C61.441 103.166 73.6533 115.43 88.718 115.43Z"
									stroke="#02006D"
									stroke-width="2.76"
									stroke-miterlimit="1.5"
									stroke-linecap="round"
									stroke-linejoin="round"
								/>
								<g id="matts-marine">
									<path
										id="Vector_2"
										d="M46.894 70.793L54.342 72.445L54.361 72.407L48.518 67.478L49.652 65.161L58.71 69.63L57.845 71.397L55.213 70.099L51.765 68.212L51.741 68.246L57.05 73.021L56.472 74.201L49.521 72.904L49.509 72.945L53.057 74.501L55.689 75.8L54.823 77.567L45.765 73.098L46.894 70.793V70.793ZM61.117 63.457L59.371 65.474L60.644 67.303L59.339 68.811L53.584 60.012L54.93 58.458L64.408 62.955L63.103 64.462L61.117 63.457V63.457ZM58.447 64.134L59.665 62.726L56.375 61.064L56.348 61.095L58.447 64.134V64.134ZM63.702 52.703L61.929 54.132L67.264 60.799L65.729 62.036L60.394 55.369L58.632 56.789L57.647 55.558L62.717 51.471L63.702 52.703ZM71.286 48.487L69.271 49.543L73.214 57.123L71.469 58.038L67.526 50.458L65.522 51.508L64.794 50.107L70.558 47.087L71.286 48.487V48.487ZM73.92 47.131L74.17 49.124L73.37 49.422L72.717 47.677L72.028 45.818L73.263 45.357L73.92 47.131V47.131ZM81.952 51.479C81.868 51.094 81.702 50.811 81.454 50.631C81.207 50.45 80.809 50.307 80.26 50.2C79.157 50.068 78.3 49.83 77.688 49.488C77.076 49.145 76.68 48.564 76.501 47.744C76.323 46.933 76.477 46.207 76.961 45.566C77.445 44.925 78.15 44.503 79.076 44.299C80.014 44.092 80.839 44.208 81.551 44.647C82.262 45.087 82.703 45.741 82.874 46.61L82.87 46.654L81.001 47.066C80.902 46.613 80.709 46.271 80.422 46.039C80.134 45.808 79.785 45.738 79.375 45.829C78.991 45.913 78.718 46.096 78.554 46.376C78.391 46.657 78.348 46.974 78.425 47.327C78.496 47.653 78.675 47.895 78.96 48.053C79.245 48.211 79.712 48.354 80.36 48.482C81.364 48.593 82.155 48.841 82.733 49.224C83.311 49.607 83.691 50.213 83.872 51.042C84.06 51.898 83.922 52.631 83.459 53.242C82.997 53.852 82.293 54.261 81.35 54.469C80.411 54.676 79.537 54.58 78.729 54.181C77.92 53.782 77.414 53.066 77.212 52.033L77.216 51.989L79.092 51.576C79.226 52.187 79.45 52.598 79.766 52.809C80.082 53.019 80.499 53.068 81.019 52.953C81.425 52.864 81.702 52.688 81.851 52.428C82 52.167 82.034 51.851 81.952 51.479V51.479ZM92.543 43.509L93.45 51.111L93.492 51.116L96.198 43.952L98.751 44.262L97.54 54.319L95.592 54.083L95.944 51.161L96.58 47.271L96.54 47.259L93.803 53.866L92.502 53.708L91.427 46.695L91.384 46.697L91.092 50.572L90.741 53.494L88.793 53.258L90.004 43.2L92.543 43.509ZM104.12 54.563L101.649 53.571L100.346 55.378L98.499 54.637L104.886 46.29L106.791 47.055L105.676 57.518L103.828 56.776L104.12 54.563V54.563ZM102.606 52.254L104.331 52.946L104.814 49.281L104.775 49.265L102.606 52.254ZM110.27 55.762L107.976 59.067L106.36 57.938L112.126 49.632L114.828 51.521C115.643 52.091 116.133 52.755 116.298 53.511C116.462 54.268 116.278 55.031 115.744 55.8C115.443 56.234 115.087 56.54 114.675 56.719C114.264 56.897 113.808 56.95 113.307 56.877C113.631 57.318 113.771 57.772 113.726 58.238C113.681 58.705 113.484 59.189 113.136 59.691L112.728 60.279C112.559 60.5273 112.414 60.7919 112.298 61.069C112.17 61.366 112.131 61.621 112.182 61.831L112.099 61.951L110.427 60.782C110.379 60.567 110.433 60.311 110.589 60.013C110.745 59.715 110.922 59.424 111.12 59.138L111.513 58.573C111.801 58.158 111.939 57.778 111.929 57.431C111.919 57.085 111.757 56.802 111.442 56.582L110.27 55.762V55.762ZM111.17 54.466L112.25 55.222C112.58 55.453 112.901 55.527 113.211 55.445C113.522 55.362 113.807 55.134 114.066 54.762C114.33 54.381 114.454 54.019 114.44 53.675C114.425 53.331 114.255 53.045 113.928 52.817L112.842 52.057L111.17 54.466ZM114.306 64.227L112.892 62.862L119.889 55.561L121.303 56.926L114.306 64.227ZM119.731 71.029L118.569 69.443L121.941 63.111L121.905 63.086L116.717 66.915L115.546 65.317L123.678 59.316L124.848 60.913L121.482 67.241L121.518 67.267L126.7 63.442L127.863 65.028L119.731 71.029V71.029ZM126.649 75.584L125.301 72.462L122.681 73.601L124.265 77.272L122.821 77.9L120.451 72.41L129.713 68.382L132.077 73.86L130.633 74.488L129.054 70.83L126.745 71.834L128.093 74.956L126.649 75.584V75.584Z"
										fill="#02006D"
									/>
								</g>
								<path
									id="outside-circle"
									fill-rule="evenodd"
									clip-rule="evenodd"
									d="M95.734 29.878L89.217 0L82.719 29.794C70.05 31.105 58.563 36.442 49.548 44.508L37.694 41.946L41.311 53.565C34.8783 62.2821 30.9639 72.5988 29.995 83.389L0 89.979L30.265 96.619C31.5536 106.407 35.2723 115.717 41.082 123.699L37.48 134.639L48.795 132.383C57.989 140.896 69.874 146.518 83.016 147.812L90.328 177.778L96.127 147.651C108.783 146.086 120.205 140.499 129.085 132.203L140.769 134.8L137.165 122.914C143.035 114.569 146.645 104.846 147.643 94.692L177.778 89.001L147.479 81.407C146.242 71.418 142.475 61.9102 136.536 53.784L140.797 42.161L127.91 44.305C119.114 36.516 107.994 31.311 95.734 29.878V29.878ZM88.843 37.873C116.84 37.873 139.569 60.687 139.569 88.788C139.569 116.889 116.84 139.703 88.843 139.703C60.847 139.703 38.117 116.889 38.117 88.788C38.117 60.687 60.847 37.873 88.843 37.873V37.873Z"
									fill="#02006D"
								/>
							</g>
						</svg>

						<span class="font-bold text-lg px-2 link link-underline link-underline-black"
							>MATTS MARINE SERVICE</span
						>
					</a>

					<!-- from repl toggle a class 11:30 just added svg on line 75
					<button class="md:hidden" on:click={() => (active = !active)}>
						{active ? 'Close' : 'Open'}
						<svg
							class="w-6 h-6"
							xmlns="http://www.w3.org/2000/svg"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M4 6h16M4 12h16M4 18h16"
							/>
						</svg>
						<!-- aside for mobile menu 
						<aside class:active />
					</button>-->
				</div>

				<!-- primary nav 
				<div class="hidden md:flex items-center space-x-1">
					<a href="#" class="py-5 px-3 text-gray-700 hover:text-gray-900">Features</a>
					<a href="#" class="py-5 px-3 text-gray-700 hover:text-gray-900">Pricing</a>
				</div> -->
			</div>

			<!-- secondary nav on right side -->
			<div class="hidden md:flex items-center space-x-1">
				<a
					href="/contact"
					class="py-2 px-3 text-white bg-blue-900  hover:bg-blue-800 hover:no-underline rounded transition duration-300"
					><span class="link link-underline link-underline-black">Contact</span></a
				>
			</div>

			<!-- mobile button goes here this is the mobile nav from better.dev vid codepen
			<div class="md:hidden flex items-center">
				<button on:click={() => (hidden = !hidden)}>
					{hidden}
					<svg
						class="w-6 h-6"
						xmlns="http://www.w3.org/2000/svg"
						fill="none"
						viewBox="0 0 24 24"
						stroke="currentColor"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M4 6h16M4 12h16M4 18h16"
						/>
					</svg>
				</button>
			</div>-->

			<!-- Animated Burger one-->

			<AnimatedHamburger {open} {onClick} />
		</div>
	</div>

	{#if open}
		<div>
			<div
				class="flex flex-col py-1 gap-5 items-center"
				transition:fly={{ y: -200, duration: 400 }}
			>
				<a href="/">Home</a>
				<a href="/contact">Contact</a>
			</div>
		</div>
	{/if}

	<!-- mobile menu 
	<div class="mobile-menu hidden md:hidden">
		<a href="#" class="block py-2 px-4 text-sm hover:bg-gray-200">Features</a>
		<a href="#" class="block py-2 px-4 text-sm hover:bg-gray-200">Pricing</a>
	</div>-->
</nav>

<style>
	.link-underline {
		border-bottom-width: 0;
		background-image: linear-gradient(transparent, transparent), linear-gradient(#fff, #fff);
		background-size: 0 3px;
		background-position: 0 100%;
		background-repeat: no-repeat;
		transition: background-size 0.5s ease-in-out;
	}

	.link-underline-black {
		background-image: linear-gradient(transparent, transparent), linear-gradient(#ced2dd, #ced2e2);
	}

	.link-underline:hover {
		background-size: 100% 3px;
		background-position: 0 100%;
	}
</style>
